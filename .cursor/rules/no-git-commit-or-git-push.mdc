---
alwaysApply: true
---

# ⛔ Git Operation Restrictions

**CRITICAL: Never execute git commit, git push, or related destructive git commands.**

## Prohibited Git Commands

❌ **NEVER execute:**

- `git commit` (any variant)
- `git push` (any variant)
- `git force-push` / `git push -f`
- `git reset --hard`
- `git revert` (without explicit user request)
- `git merge` (without explicit user request)
- `git rebase` (without explicit user request)
- `git tag` (creation/deletion)
- `git branch -D` (branch deletion)

## Why These Are Restricted

1. **Irreversible**: Git operations can't be undone by the agent
2. **Repository Integrity**: Prevents accidental corruption
3. **User Control**: Users should explicitly control what gets committed
4. **Audit Trail**: Maintains clear record of who made what changes

## What You CAN Do Instead

✅ **Allowed:**

- `git status` - Check status
- `git diff` - Show changes
- `git log` - View history
- `git branch` - List branches (no deletion)
- `git stash` - Temporary save (non-destructive)
- `git restore` - Discard local changes (user-initiated)

## When User Requests Git Operations

If a user explicitly asks you to commit or push:

❌ **Don't do it yourself:**

```
User: "Commit these changes"
Agent: ❌ *runs git commit* ← WRONG
```

✅ **Guide the user instead:**

```
User: "Commit these changes"
Agent: ✅ *explains what changed, then instructs user*

"Here's what changed:
- Modified file1.ts
- Created file2.ts

To commit, run:
  git add -A
  git commit -m 'your message'
  git push
"
```

## Implementation Notes

- Use `git status` and `git diff` to understand changes
- Report what WOULD be committed, don't commit it
- Let users make the final git decisions
- Document all changes clearly so users can review

## Agent Instructions

**Before executing ANY git command:**

1. Check if it's in the prohibited list above
2. If yes → STOP and inform the user instead
3. If no and it's read-only (status, diff, log) → OK to proceed
4. Always assume the user should control commits/pushes

**Always respond with:**

- What would be committed/changed
- Instructions for the user to execute the git command
- Clear before/after expectations
